!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("uiWidgets",[],e):"object"==typeof exports?exports.uiWidgets=e():t.uiWidgets=e()}(self,(function(){return(()=>{"use strict";var t={729:t=>{var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,a),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,y=l.length;for(c=0;c<y;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}n.r(r),n.d(r,{Button:()=>j,Column:()=>Ne,Frame:()=>Me,KeyboardGroup:()=>Bt,QuantityBar:()=>se,Row:()=>Qe,Scrollbar:()=>ke,TextButton:()=>_t,TextSprite:()=>jt,ValueBar:()=>Ee,Viewport:()=>nn,Wheel3D:()=>Mt});var f,y=void 0===Phaser.Sprite?function(t){a(r,Phaser.GameObjects.Sprite);var n=u(r);function r(t,i,o,a){var s;e(this,r),s=n.call(this,t,i,o,a),t.add.existing(l(s));var u=Phaser.Display.Align.In;return s.alignInMapping={0:u.TopLeft,1:u.TopCenter,2:u.TopRight,3:u.LeftTop,4:u.LeftCenter,5:u.LeftBottom,6:u.Center,7:u.RightTop,8:u.RightCenter,9:u.RightBottom,10:u.BottomLeft,11:u.BottomCenter,12:u.BottomRight},s}return o(r,[{key:"maskX",get:function(){return this.x}},{key:"maskY",get:function(){return this.y}},{key:"sendToBack",value:function(){this.depth=-9999}},{key:"moveDown",value:function(){this.depth-=1}},{key:"alignIn",value:function(t,e){this.alignInMapping[e](this,t,t.width)}},{key:"addOutEvent",value:function(t,e){this.on("pointerout",(function(n){t.call(e,n)}))}},{key:"addUpEvent",value:function(t,e){this.on("pointerup",(function(n){t.call(e,n)}))}},{key:"addDownEvent",value:function(t,e){this.on("pointerdown",(function(n){t.call(e,n)}))}},{key:"addDragEvent",value:function(t,e){this.on("drag",(function(){t.call(e)}))}}]),r}():function(t){a(r,Phaser.Sprite);var n=u(r);function r(t,i,o,a){var s;return e(this,r),s=n.call(this,t,i,o,a),t.add.existing(l(s)),s}return o(r,[{key:"setOrigin",value:function(t,e){this.anchor=new Phaser.Point(t,e)}},{key:"maskX",get:function(){return 0}},{key:"maskY",get:function(){return 0}},{key:"setInteractive",value:function(){this.inputEnabled=!0}},{key:"disableInteractive",value:function(){this.inputEnabled=!1}},{key:"addOutEvent",value:function(t,e){this.events.onInputOut.add(t,e)}},{key:"addUpEvent",value:function(t,e){this.events.onInputUp.add(t,e)}},{key:"addDownEvent",value:function(t,e){this.events.onInputDown.add(t,e)}},{key:"displayHeight",get:function(){return this.height},set:function(t){this.height=t}},{key:"displayWidth",get:function(){return this.width},set:function(t){this.width=t}}]),r}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return x(t)}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}if(void 0===Phaser.Button){var P=function(t){g(n,t);var e=w(n);function n(t,r,i,o,a,s,u,c,l,h){var f;d(this,n),f=e.call(this,t,r,i,o),t.add.existing(x(f)),f.game=t,f.overKey=u,f.outKey=c,f.downKey=l,f.upKey=h,f.setInteractive({useHandCursor:!0});var y=s;return null==y&&(y=x(f)),f.on("pointerdown",(function(t){a.call(y,t)})),f.on("pointerover",f.onOver,x(f)),f.on("pointerout",f.onOut,x(f)),f.on("pointerdown",f.onDown,x(f)),f.on("pointerup",f.onUp,x(f)),f}return b(n,[{key:"onOver",value:function(){this.setFrame(this.overKey)}},{key:"onOut",value:function(){this.setFrame(this.outKey)}},{key:"onDown",value:function(){this.setFrame(this.downKey)}},{key:"onUp",value:function(){this.setFrame(this.upKey)}},{key:"updateDrag",value:function(t,e,n,r){if(e.vertical)e.draggableArea.y+e.draggableArea.h>=r&&e.draggableArea.y<=r&&(e.y=r);else{var i=n+e.displayWidth;e.draggableArea.x+e.draggableArea.w>=i&&e.draggableArea.x<=n&&(e.x=n)}}},{key:"setDragBounds",value:function(t){this.draggableArea=t}},{key:"enableDragging",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setInteractive({useHandCursor:!0}),this.vertical=t,this.game.input.setDraggable(this),this.game.input.on("drag",this.updateDrag)}}]),n}(y);f=P}else{var S=function(t){g(n,Phaser.Button);var e=w(n);function n(t,r,i,o,a,s,u,c,l,h){var f;return d(this,n),f=e.call(this,t,r,i,o,a,s,u,c,l,h),t.add.existing(x(f)),f}return b(n,[{key:"setInteractive",value:function(){this.inputEnabled=!0,this.input.useHandCursor=!0}},{key:"disableInteractive",value:function(){this.inputEnabled=!1}},{key:"setDragBounds",value:function(t){this.input.boundsRect=new Phaser.Rectangle(t.x,t.y,t.w,t.h)}},{key:"enableDragging",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inputEnabled=!0,this.input.enableDrag(),t?this.input.allowHorizontalDrag=!1:this.input.allowVerticalDrag=!1}},{key:"addOutEvent",value:function(t,e){this.events.onInputOut.add(t,e)}},{key:"addUpEvent",value:function(t,e){this.events.onInputUp.add(t,e)}},{key:"addDownEvent",value:function(t,e){this.events.onInputDown.add(t,e)}},{key:"addDragEvent",value:function(t,e){this.events.onDragUpdate.add(t,e)}},{key:"displayHeight",get:function(){return this.height},set:function(t){this.height=t}},{key:"displayWidth",get:function(){return this.width},set:function(t){this.width=t}}]),n}();f=S}var R,j=f,_=void 0===Phaser.Easing?Phaser.Math.Easing:Phaser.Easing;function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e){return C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},C(t,e)}function B(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}R=void 0===Phaser.Graphics?Phaser.GameObjects.Graphics:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(a,Phaser.Graphics);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=A(r);if(i){var n=A(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return B(this,t)});function a(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,t,e.x,e.y)}return e=a,(n=[{key:"fillStyle",value:function(t,e){this.beginFill(t,e)}},{key:"fillRect",value:function(t,e,n,r){this.drawRect(t,e,n,r),this.endFill()}}])&&T(e.prototype,n),a}();var D,I=R;function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function M(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}function W(t,e){return W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},W(t,e)}function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Y(t);if(e){var i=Y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return K(this,n)}}function K(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(t)}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e,n){return e&&X(t.prototype,e),n&&X(t,n),t}if(void 0===Phaser.Group){var U=function(){function t(e){N(this,t),this.parent=e}return G(t,[{key:"x",get:function(){return this.parent.x}},{key:"y",get:function(){return this.parent.y}}]),t}(),L=function(t){M(n,Phaser.GameObjects.Container);var e=V(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return N(this,n),r=e.call(this,t,i,o),t.add.existing(H(r)),r.parentContainer=null,r.SORT_ASCENDING=-1,r.SORT_DESCENDING=1,r.version=3,r.alignToMapping={0:Phaser.Display.Align.To.TopLeft,1:Phaser.Display.Align.To.TopCenter,8:Phaser.Display.Align.To.RightCenter,11:Phaser.Display.Align.To.BottomCenter},r.worldPosition=new U(H(r)),r}return G(n,[{key:"children",get:function(){return this.list}},{key:"realHeight",get:function(){return this.getBounds().height-this.y}},{key:"realWidth",get:function(){return this.getBounds().width-this.x}},{key:"setOrigin",value:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;i<this.children.length;i++)(t=this.children[i])instanceof n?t instanceof n&&t.setOrigin(e,r):(t.displayOriginX=e,t.displayOriginY=r)}},{key:"getNodes",value:function(){return this.getAll()}},{key:"alignToContainerBottom",value:function(t,e){var n,r;if("layout"===e.uiWidgetsObjectRole){var i=t.getBounds();n=i.width-this.worldPosition.x,r=i.height-this.worldPosition.y}else n=t.width,r=t.height;var o=.5*n,a=r,s=e.width;"layout"===e.uiWidgetsObjectRole&&(s=e.getBounds().width),e.x=o-.5*s,e.y=t.getBounds().y+a}},{key:"alignContainerToBottom",value:function(t,e){var n=t.getBounds(),r=t.x+.5*n.width;e.x=r-.5*e.width,e.y=n.y}},{key:"alignContainerToRight",value:function(t,e){var n=t.x+t.width;e.x=n}},{key:"alignNodeToPrevious",value:function(t,e,r,i){var o=this.getNodes(),a=o[o.length-2],s={11:this.alignContainerToBottom,8:this.alignContainerToRight}[e];a instanceof n?this.alignToContainerBottom(a,t):t instanceof n&&void 0!==a?s(a,t):void 0!==a&&this.alignToMapping[e](t,a,r,i)}}]),n}();D=L}else D=function(t){M(n,Phaser.Group);var e=V(n);function n(t){var r;return N(this,n),(r=e.call(this,t)).parentContainer=null,r.SORT_ASCENDING=-1,r.SORT_DESCENDING=1,r}return G(n,[{key:"realHeight",get:function(){return this.height}},{key:"realWidth",get:function(){return this.width}},{key:"getNodes",value:function(){return this.children}},{key:"alignNodeToPrevious",value:function(t,e,n,r){var i=this.getNodes(),o=i[i.length-2];void 0!==o&&t.alignTo(o,e,n,r)}}]),n}();var F=D;function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e,n){return e&&q(t.prototype,e),n&&q(t,n),t}var $=void 0===Phaser.Keyboard?function(){function t(){Q(this,t)}return Z(t,[{key:"addDownEvent",value:function(t,e,n){t.on("down",e,n)}},{key:"removeDownEvent",value:function(t){t.removeListener("down")}}]),t}():function(){function t(){Q(this,t)}return Z(t,[{key:"addDownEvent",value:function(t,e,n){t.onDown.add(e,n)}},{key:"removeDownEvent",value:function(t){t.onDown.removeAll()}}]),t}(),J=void 0===Phaser.Keyboard?Phaser.Input.Keyboard.KeyCodes:Phaser.Keyboard;function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nt(t,e,n){return e&&et(t.prototype,e),n&&et(t,n),t}void 0===Phaser.Rectangle?Phaser.Geom.Rectangle:Phaser.Rectangle;var rt,it=void 0===Phaser.Tween?function(){function t(e){tt(this,t),this.game=e}return nt(t,[{key:"add",value:function(t,e,n,r,i,o,a,s,u,c){var l={targets:t,duration:n,ease:r,onComplete:i,onUpdate:o,onStart:a,onCompleteScope:s,onUpdateScope:u,onStartScope:c},h=Object.assign(l,e);this.game.tweens.add(h)}}]),t}():function(){function t(e){tt(this,t),this.game=e}return nt(t,[{key:"add",value:function(t,e,n,r,i,o,a,s,u,c){var l=this.game.add.tween(t).to(e,n,r,!0);o&&l.onUpdateCallback(o,u),i&&l.onComplete.add(i,s),a&&l.onStart.add(a,c)}}]),t}();function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ut(t,e,n){return e&&st(t.prototype,e),n&&st(t,n),t}function ct(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lt(t,e)}function lt(t,e){return lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},lt(t,e)}function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yt(t);if(e){var i=yt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ft(this,n)}}function ft(t,e){if(e&&("object"===ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function yt(t){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yt(t)}if(void 0===Phaser.Graphics)rt=function(t){ct(n,Phaser.GameObjects.Graphics);var e=ht(n);function n(t,r,i){var o;return at(this,n),(o=e.call(this,t,{x:r,y:i})).game=t,o.x=r,o.y=i,o}return ut(n,[{key:"create",value:function(t,e,n,r){this.fillStyle(16777215),this.beginPath(),this.fillRect(t,e,n,r);var i=this.createGeometryMask();return i.x=i.geometryMask.x,i.y=i.geometryMask.y,i.width=n,i.height=r,i}}]),n}();else{var pt=function(t){ct(n,Phaser.Graphics);var e=ht(n);function n(){return at(this,n),e.apply(this,arguments)}return ut(n,[{key:"scaleX",get:function(){return this.scale.x},set:function(t){this.scale.x=t}},{key:"scaleY",get:function(){return this.scale.y},set:function(t){this.scale.y=t}},{key:"create",value:function(t,e,n,r){return this.beginFill(255),this.drawRect(t,e,n,r),this.endFill(),this.geometryMask=this,this}}]),n}();rt=pt}var dt=rt;function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t,e,n){return e&&gt(t.prototype,e),n&&gt(t,n),t}function wt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}function kt(t,e){return kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},kt(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St(t);if(e){var i=St(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(t,e){if(e&&("object"===vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pt(t)}function Pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}var Rt=function(t){wt(n,t);var e=xt(n);function n(t,r,i){var o;return bt(this,n),(o=e.call(this,t,r,i)).game=t,o.x=r,o.y=i,t.add.existing(Pt(o)),o}return mt(n,[{key:"setText",value:function(t,e){return this.text&&this.text.destroy(),3===this.version?(this.text=this.game.add.text(0,0,t,e),this.text.setOrigin(.5,.5)):(this.text=this.game.add.text(this.width/2,this.height/2,t,e),this.text.anchor.set(.5,.5)),this.add(this.text),this.text.wordWrap=!0,this.text.wordWrapWidth=this.width,this}},{key:"setOrigin",value:function(t,e){return 3===this.version?this.sprite.setOrigin(t,e):this.sprite.anchor.set(t,e),this.text.x=this.sprite.width/2,this.text.y=this.sprite.height/2,this.currentTextY=this.sprite.height/2,this}}]),n}(F),jt=function(t){wt(n,t);var e=xt(n);function n(t,r,i,o){var a;return bt(this,n),(a=e.call(this,t,r,i)).sprite=new y(t,0,0,o),a.add(a.sprite),a.width=a.sprite.width,a.height=a.sprite.height,a}return n}(Rt),_t=function(t){wt(n,t);var e=xt(n);function n(t,r,i,o,a,s,u,c,l,h){var f;return bt(this,n),(f=e.call(this,t,r,i)).sprite=new j(t,0,0,o,a,s,u,c,l,h),f.add(f.sprite),f.width=f.sprite.width,f.height=f.sprite.height,f.currentTextY=0,f}return mt(n,[{key:"eventTextYAdjustment",value:function(t){var e=this;return this.sprite.addDownEvent((function(){e.text.y+=t})),this.sprite.addUpEvent((function(){e.text.y=e.currentTextY})),this.sprite.addOutEvent((function(){e.text.y=e.currentTextY})),this}}]),n}(Rt),Et=n(729),Tt={};function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Tt.modulo=function(t,e){return(t%e+e)%e},Tt.operators={"+":function(t,e){return t+e},"-":function(t,e){return t-e}};var Bt=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.vertical=n||!1,this.callbackContext=r,this.children=[],this.selected=null,this.idx=0,this.upKey=this.game.input.keyboard.addKey(J.UP),this.downKey=this.game.input.keyboard.addKey(J.DOWN),this.leftKey=this.game.input.keyboard.addKey(J.LEFT),this.rightKey=this.game.input.keyboard.addKey(J.RIGHT),this.upEvent=this.prevItem,this.downEvent=this.nextItem,this.emitter=new Et,this.activateGroup()}var e,n;return e=t,(n=[{key:"addNode",value:function(t){this.children.push(t),this.selected=this.children[0],this.useBar()}},{key:"prevItem",value:function(){this.idx=Tt.modulo(this.idx-1,this.children.length),this.selected=this.children[this.idx],this.useBar(),this.emitter.emit("previous",this,this.callbackContext)}},{key:"nextItem",value:function(){this.idx=Tt.modulo(this.idx+1,this.children.length),this.selected=this.children[this.idx],this.useBar(),this.emitter.emit("next",this,this.callbackContext)}},{key:"activateGroup",value:function(){var t=new $;this.vertical?(t.addDownEvent(this.upKey,this.upEvent,this),t.addDownEvent(this.downKey,this.downEvent,this)):(t.addDownEvent(this.leftKey,this.upEvent,this),t.addDownEvent(this.rightKey,this.downEvent,this))}},{key:"useBar",value:function(){var t=new $;this.vertical?(t.removeDownEvent(this.leftKey),t.removeDownEvent(this.rightKey),t.addDownEvent(this.leftKey,this.selected.upEvent,this.selected),t.addDownEvent(this.rightKey,this.selected.downEvent,this.selected)):(t.removeDownEvent(this.upKey),t.removeDownEvent(this.downKey),t.addDownEvent(this.upKey,this.selected.upEvent,this.selected),t.addDownEvent(this.downKey,this.selected.downEvent,this.selected))}}])&&Ct(e.prototype,n),t}();function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function It(t,e,n){return e&&Dt(t.prototype,e),n&&Dt(t,n),t}var zt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;At(this,t),this.x=e,this.y=n,this.z=r,this.sprite=i,this.position=o}return It(t,[{key:"getSinCosOfAngle",value:function(t){var e=t*Math.PI/180;return{cosine:Math.cos(e),sine:Math.sin(e)}}},{key:"rotateY",value:function(e){var n=this.getSinCosOfAngle(e),r=this.z*n.cosine-this.x*n.sine;return new t(this.z*n.sine+this.x*n.cosine,this.y,r)}},{key:"rotateX",value:function(e){var n=this.getSinCosOfAngle(e),r=this.y*n.cosine-this.z*n.sine,i=this.y*n.sine+this.z*n.cosine;return new t(this.x,r,i)}},{key:"rotateZ",value:function(e){var n=this.getSinCosOfAngle(e);return new t(this.x*n.cosine-this.y*n.sine,this.x*n.sine+this.y*n.cosine,this.z)}},{key:"rotate",value:function(t,e){var n=null;return"x"===t?n=this.rotateX(e):"y"===t?n=this.rotateY(e):"z"===t&&(n=this.rotateZ(e)),n}},{key:"project",value:function(e,n,r){return new t(this.x*r+e,-this.y*r+n,this.z)}}]),t}(),Mt=function(){function t(e,n,r,i,o,a,s,u,c){At(this,t),this.game=e,this.xy=n,this.sprites=r,this.firstPlace=i,this.zoom=o,this.axis=a,this.rotationAxis=s,this.visibleRange=u||null,this.tweenParams=c||{duration:300,ease:_.Quadratic.Out},this.emitter=new Et,this.group=new F(e)}return It(t,[{key:"activate",value:function(){var t,e,n,r,i,o;if(this.pointsAmount=this.sprites.length,this.totalPositions=this.pointsAmount-1,this.rotationAmount=360/this.pointsAmount,null!==this.visibleRange){for(var a=[],s=0;s<=this.totalPositions;s++)a.push(s);var u=a.slice(0,this.visibleRange.max),c=a.slice(this.visibleRange.min);this.visiblePositions=u.concat(c)}this.moving=!1,this.direction=null,this.wheelItems=[];for(var l=2*Math.PI/this.pointsAmount,h=0;h<this.pointsAmount;h++)this.sprites[h].wheelPosition=h,this.group.add(this.sprites[h]),t=l*h,e=1*Math.cos(t),n=1*Math.sin(t),"x"===this.axis?(r=-1,i=e,o=n):"y"===this.axis?(r=e,i=-1,o=n):"z"===this.axis&&(r=e,i=n,o=-1),this.wheelItems.push(new zt(r,i,o,this.sprites[h],h));this.active=this.wheelItems[this.firstPlace].sprite,this.project()}},{key:"moveBack",value:function(){!1===this.moving&&(this.moving=!0,this.direction=0,"x"===this.axis||"z"===this.axis?this.rotationAxis[this.axis]+=this.rotationAmount:this.rotationAxis[this.axis]-=this.rotationAmount,this.updatePosition("+"),this.project(),this.resetAngle())}},{key:"moveForward",value:function(){!1===this.moving&&(this.moving=!0,this.direction=1,"x"===this.axis||"z"===this.axis?this.rotationAxis[this.axis]-=this.rotationAmount:this.rotationAxis[this.axis]+=this.rotationAmount,this.updatePosition("-"),this.project(),this.resetAngle())}},{key:"project",value:function(){var t=this,e=["x","y","z"],n=e.indexOf(this.axis);e.splice(n,1);for(var r=0;r<this.wheelItems.length;r++){var i=this.wheelItems[r].rotate(this.axis,this.rotationAxis[this.axis]).rotate(e[0],this.rotationAxis[e[0]]).rotate(e[1],this.rotationAxis[e[1]]).project(this.xy.x,this.xy.y,this.zoom),o=this.wheelItems[r].sprite;if(o.lz=i.z,this.wheelItems[r].position===this.firstPlace)o.alpha=1,this.active=this.wheelItems[r].sprite;else if(null!==this.visibleRange){var a=this.visiblePositions.includes(this.wheelItems[r].position);o.alpha=a?1:0}var s=new it(this.game);r!==this.wheelItems.length-1?s.add(o,{x:i.x,y:i.y},this.tweenParams.duration,this.tweenParams.ease):s.add(o,{x:i.x,y:i.y},this.tweenParams.duration,this.tweenParams.ease,(function(){t.enableMoving(),t.dispatchOnComplete()}),null,(function(){t.dispatchOnStart()}),this,null,null)}this.group.sort("lz",F.SORT_ASCENDING)}},{key:"dispatchOnStart",value:function(){this.emitter.emit("start",this)}},{key:"dispatchOnComplete",value:function(){0===this.direction?this.emitter.emit("backComplete",this):1===this.direction&&this.emitter.emit("forwardComplete",this),this.emitter.emit("complete",this)}},{key:"enableMoving",value:function(){this.moving=!1}},{key:"updatePosition",value:function(t){for(var e=0;e<this.wheelItems.length;e++){var n=this.wheelItems[e].position;this.wheelItems[e].position=Tt.operators[t](n,1);var r=Tt.modulo(this.wheelItems[e].position,this.pointsAmount);this.wheelItems[e].position=r,this.wheelItems[e].sprite.wheelPosition=r}}},{key:"resetAngle",value:function(){var t=this.rotationAxis[this.axis];360!==t&&-360!==t||(this.rotationAxis[this.axis]=0)}}]),t}();function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function Vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e){return Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ht(t,e)}function Yt(t,e){if(e&&("object"===Wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nt(t)}function Nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xt(t){return Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xt(t)}var Gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xt(r);if(i){var n=Xt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Yt(this,t)});function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Vt(this,a),e=o.call(this,t),t.add.existing(Nt(e)),e.game=t,e.x=n,e.y=r,e.vertical=i,e.trackKey=s,e.barKey=u,e}return e=a,(n=[{key:"setTrackScrollAreaSize",value:function(){this.vertical?this.trackScrollAreaSize=this.track.height-this.vslice:this.trackScrollAreaSize=this.track.width-this.hslice}},{key:"centerStaticAxis",value:function(){this.vertical?this.bar.x=this.track.x+this.track.width/2-this.bar.displayWidth/2:this.bar.y=this.track.y+this.track.height/2-this.bar.displayHeight/2}}])&&Kt(e.prototype,n),a}(F);function Ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ft(t,e,n){return e&&Lt(t.prototype,e),n&&Lt(t,n),t}var Qt=function(){function t(e,n,r){Ut(this,t),this.bar=e,this.startValue=n,this.maxValue=r,this.currentValue=n}return Ft(t,[{key:"getRatio",value:function(){return this.currentValue/this.maxValue}},{key:"getCurrentValue",value:function(){return this.currentValue}}]),t}(),qt=function(){function t(e,n,r){Ut(this,t),this.step=e,this.startValue=n,this.maxValue=r+e,this.ratio=e/r,this.ratio>1&&(this.ratio=1),this.currentValue=n,this.steps=[];for(var i=0;i<this.maxValue;i+=e)this.steps.push(i)}return Ft(t,[{key:"adjustValue",value:function(t){this.currentValue=t}},{key:"getCurrentValue",value:function(){return this.currentValue}}]),t}(),Zt=function(){function t(e,n){Ut(this,t),this.viewport=e,this.vertical=n,n?(this.step=e.area.height,this.maxValue=e.realHeight):(this.step=e.area.width,this.maxValue=e.realWidth),this.ratio=this.step/this.maxValue,this.ratio>1&&(this.ratio=1)}return Ft(t,[{key:"adjustValue",value:function(t){this.vertical?this.viewport.y=t+this.viewport.area.y:this.viewport.x=t+this.viewport.area.x,this.viewport.disableOutOfBounds(this.viewport.children,this,this.vertical)}},{key:"getCurrentValue",value:function(){return this.vertical?this.viewport.y-this.viewport.area.y:this.viewport.x-this.viewport.area.x}}]),t}();function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function Jt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return te(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function re(t,e){return re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},re(t,e)}function ie(t,e){if(e&&("object"===$t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oe(t)}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ae(t)}var se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ae(r);if(i){var n=ae(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ie(this,t)});function a(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return ee(this,a),(r=o.call(this,t,e.x,e.y,i,u,c)).uiWidgetsObjectRole="quantitybar",r.valueRange=new Qt(oe(r),n.startValue,n.maxValue),r.reverse=s||!1,r.tweenParams=l||{duration:300,ease:_.Quadratic.Out},r.track=new y(t,0,0,r.trackKey),r.track.displayOriginX=0,r.track.displayOriginY=0,r.add(r.track),r.width=r.track.width,r.height=r.track.height,r.bar=new y(t,0,0,r.barKey),r.bar.displayOriginX=0,r.bar.displayOriginY=0,r.add(r.bar),r.create(),r}return e=a,n=[{key:"setMask",value:function(){null!==this.bar.mask&&(this.bar.mask.destroy(),this.bar.mask=null);var t=new dt(this.game,this.maskX,this.maskY);this.bar.mask=t.create(this.bar.maskX,this.bar.maskY,this.maskW,this.maskH),void 0===this.version&&this.add(t)}},{key:"getMaskXY",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=n,e=r,void 0===this.version?(t+=this.bar.x,e+=this.bar.y):(t+=this.x,e+=this.y),this.reverse&&(this.vertical?e+=this.getBarFraction():t+=this.getBarFraction()),[t,e]}},{key:"getBarPosition",value:function(){var t=this.valueRange.getRatio()/this.windowScrollAreaSize;return this.trackScrollAreaSize*t}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.centerStaticAxis(),this.maskW=this.bar.width,this.maskH=this.bar.height;var n=this.getMaskXY(t,e),r=Jt(n,2),i=r[0],o=r[1];this.maskX=i,this.maskY=o,this.setMask();var a=this.getBarSize();this.reverse,this.vertical?this.bar.mask.geometryMask.scaleY=a:this.bar.mask.geometryMask.scaleX=a,this.windowScrollAreaSize=this.valueRange.maxValue,this.vslice=this.track.height*this.valueRange.getRatio(),this.hslice=this.track.width*this.valueRange.getRatio(),this.setTrackScrollAreaSize()}},{key:"addScrollTweenMask",value:function(t,e,n){new it(this.game).add(this.bar.mask.geometryMask,t,e,n)}},{key:"adjustBar",value:function(t){var e;this.valueRange.currentValue+=t;var n,r,i=this.getBarSize();void 0===this.version?(n=0,r=0):(n=this.x,r=this.y),e=this.reverse?this.vertical?{scaleY:i,y:r+this.getBarFraction()}:{scaleX:i,x:n+this.getBarFraction()}:this.vertical?{scaleY:i}:{scaleX:i},this.addScrollTweenMask(e,this.tweenParams.duration,this.tweenParams.ease)}},{key:"getBarFraction",value:function(){return this.vertical?this.track.height*this.valueRange.getRatio():this.track.width*this.valueRange.getRatio()}},{key:"getBarSize",value:function(){return this.reverse?1-this.valueRange.getRatio():this.valueRange.getRatio()}}],n&&ne(e.prototype,n),a}(Gt);function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function he(t,e){return he=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},he(t,e)}function fe(t,e){if(e&&("object"===ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ye(t){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ye(t)}var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&he(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ye(r);if(i){var n=ye(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return fe(this,t)});function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return ce(this,a),(e=o.call(this,t,n,r,i,s,u)).emitter=new Et,e}return e=a,(n=[{key:"verticalTrackClick",value:function(){var t=this.game.input.mousePointer.y,e=this.bar.y+this.worldPosition.y;this.parentContainer&&(e+=this.parentContainer.y),t>e+this.bar.displayHeight?this.scrollDown():t<e&&this.scrollUp()}},{key:"horizontalTrackClick",value:function(){var t=this.game.input.mousePointer.x,e=this.bar.x+this.worldPosition.x;this.parentContainer&&(e+=this.parentContainer.x),t>e+this.bar.displayWidth?this.scrollRight():t<e&&this.scrollLeft()}},{key:"enableTrackClick",value:function(){var t;this.track.setInteractive(),t=this.vertical?this.verticalTrackClick:this.horizontalTrackClick,this.track.addDownEvent(t,this)}},{key:"enableBarInput",value:function(){this.trackClicked=!1,this.barMoving=!1,this.bar.enableDragging(this.vertical)}},{key:"enableBarDrag",value:function(){var t;this.setDraggableArea(),this.bar.enableDragging(this.vertical),t=this.vertical?this.verticalDraggableArea:this.horizontalDraggableArea,this.bar.setDragBounds(t),this.snapping&&this.bar.addUpEvent(this.snapToClosestPosition,this),this.bar.addDownEvent(this.saveMousePosition,this),this.bar.addDragEvent(this.moveContent,this)}},{key:"saveMousePosition",value:function(t){this.mousePointer={x:t.x-(t.x-this.bar.x),y:t.y-(t.y-this.bar.y)}}},{key:"getBarPosition",value:function(){var t=this.valueRange.getCurrentValue()/this.windowScrollAreaSize;return this.trackScrollAreaSize*t}},{key:"getMouseDelta",value:function(){var t,e,n;if(this.trackClicked)t={x:this.bar.x,y:this.bar.y};else{var r=this.game.input.mousePointer;t={x:r.x-(r.x-this.bar.x),y:r.y-(r.y-this.bar.y)}}return this.vertical?(e=this.mousePointer.y,n=t.y):(e=this.mousePointer.x,n=t.x),this.mousePointer=t,n<this.maxValue?e-n:0}},{key:"addScrollTween",value:function(t){this.mousePointer={x:this.bar.x,y:this.bar.y},this.trackClicked=!0,new it(this.game).add(this.bar,t,this.tweenParams.duration,this.tweenParams.ease,this.enableBarInput,this.moveContent,null,this,this,null)}},{key:"scrollUp",value:function(){if(this.bar.y!==this.track.y&&!this.barMoving){var t,e=this.bar.y-this.vslice;this.barMoving=!0,t=e<=this.track.y?this.minY:this.bar.y-this.vslice,this.addScrollTween({y:t})}}},{key:"scrollDown",value:function(){if(this.bar.y+this.bar.displayHeight!==this.track.y+this.track.height&&!this.barMoving){var t,e=this.bar.y+2*this.vslice;this.barMoving=!0,this.bar.disableInteractive(),t=e>=this.track.y+this.track.height?this.maxY:this.bar.y+this.vslice,this.addScrollTween({y:t})}}},{key:"scrollLeft",value:function(){if(this.bar.x!==this.track.x&&!this.barMoving){var t,e=this.bar.x-this.hslice;this.barMoving=!0,this.bar.disableInteractive(),t=e<=this.track.x?this.minX:this.bar.x-this.hslice,this.addScrollTween({x:t})}}},{key:"scrollRight",value:function(){if(this.bar.x+this.bar.displayWidth!==this.track.x+this.track.width&&!this.barMoving){var t,e=this.bar.x+2*this.hslice;this.barMoving=!0,this.bar.disableInteractive(),t=e>=this.track.x+this.track.width?this.maxX:this.bar.x+this.hslice,this.addScrollTween({x:t})}}},{key:"moveContent",value:function(){var t=this.getGripPositionRatio()*this.windowScrollAreaSize;this.valueRange.adjustValue(t),this.emitter.emit("movement",this)}}])&&le(e.prototype,n),a}(Gt);function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ge(t,e){return ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ge(t,e)}function me(t,e){if(e&&("object"===de(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function we(t){return we=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},we(t)}var ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=we(r);if(i){var n=we(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return me(this,t)});function a(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return ve(this,a),(r=o.call(this,t,0,0,i,s,u)).game=t,r.content=e,r.valueRange=new Zt(e,i),r.draggable=n||!1,r.minBarSize=1,r.tweenParams=c||{duration:300,ease:_.Quadratic.Out},r.trackClicked=!1,r.barMoving=!1,r.mousePointer=null,r.track=new y(t,r.x,r.y,r.trackKey),r.track.displayOriginX=0,r.track.displayOriginY=0,r.add(r.track),r.draggable&&r.enableTrackClick(),r.createBar(),r.add(r.bar),r.minY=r.track.y,r.maxY=r.track.y+r.track.height-r.bar.displayHeight,r.minX=r.track.x,r.maxX=r.track.x+r.track.width-r.bar.displayWidth,r.create(),r.vertical?(r.maxValue=r.track.displayHeight+r.worldPosition.y,void 0===r.version&&(r.maxValue+=r.bar.displayHeight)):(r.maxValue=r.track.displayWidth+r.worldPosition.x,void 0===r.version&&(r.maxValue+=r.bar.displayWidth)),r}return e=a,(n=[{key:"createBar",value:function(){var t=new j(this.game,this.x,this.y,this.barKey,this.moveContent,this,1,0);return t.displayOriginX=0,t.displayOriginY=0,this.bar=t,this.resizeBar(),t}},{key:"resizeBar",value:function(){var t;(t=this.vertical?this.track.height*this.valueRange.ratio:this.track.width*this.valueRange.ratio)<this.minBarSize&&(t=this.minBarSize),this.vertical?this.bar.displayHeight=t:this.bar.displayWidth=t}},{key:"create",value:function(){this.centerStaticAxis(),this.draggable&&this.enableBarDrag(),this.windowScrollAreaSize=this.valueRange.maxValue-this.valueRange.step,this.vslice=this.track.displayHeight*this.valueRange.ratio,this.hslice=this.track.displayWidth*this.valueRange.ratio,this.setTrackScrollAreaSize(),this.mousePointer={x:this.bar.x,y:this.bar.y},this.setInitialBarPosition()}},{key:"setDraggableArea",value:function(){var t=this.track.displayHeight;3===this.version&&(t-=this.bar.displayHeight),this.verticalDraggableArea={x:this.track.x-(this.bar.displayWidth-this.track.width)/2,y:this.track.y,w:this.bar.displayWidth,h:t},this.horizontalDraggableArea={x:this.track.x,y:this.track.y-(this.bar.displayHeight-this.track.height)/2,w:this.track.width,h:this.bar.displayHeight}}},{key:"setInitialBarPosition",value:function(){var t=this.getBarPosition();this.vertical?this.bar.y=t+this.track.y:this.bar.x=t+this.track.x}},{key:"getGripPositionRatio",value:function(){var t=this.getBarPosition()+this.getMouseDelta();t>0?t=0:t<=-this.trackScrollAreaSize&&(t=-this.trackScrollAreaSize),this.vertical?this.bar.y<=this.track.y?t=0:this.bar.y+this.bar.displayHeight>=this.track.y+this.track.displayHeight&&(t=-this.trackScrollAreaSize):this.bar.x<=this.track.x?t=0:this.bar.x+this.bar.displayWidth>=this.track.x+this.track.displayWidth&&(t=-this.trackScrollAreaSize);var e=t/this.trackScrollAreaSize;return Number.isNaN(e)&&(e=0),e}}])&&be(e.prototype,n),a}(pe);function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function Oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Se(t,e){return Se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Se(t,e)}function Re(t,e){if(e&&("object"===xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return je(t)}function je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _e(t){return _e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_e(t)}var Ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Se(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_e(r);if(i){var n=_e(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Re(this,t)});function a(t,e,n,r){var i,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return Oe(this,a),(i=o.call(this,t,e.x,e.y,s,u,c)).valueRange=new qt(n.step,n.startValue,n.maxValue),i.draggable=r||!1,i.tweenParams=l||{duration:300,ease:_.Quadratic.Out},i.trackClicked=!1,i.barMoving=!1,i.mousePointer=null,i.track=new y(t,0,0,i.trackKey),i.track.displayOriginX=0,i.track.displayOriginY=0,i.add(i.track),i.width=i.track.width,i.height=i.track.height,i.draggable&&i.enableTrackClick(),i.bar=new j(t,i.x,i.y,i.barKey,i.moveContent,je(i),1,0),i.bar.displayOriginX=0,i.bar.displayOriginY=0,i.bg=new I(t,{x:0,y:0}),i.add(i.bg),i.sendToBack(i.bg),i.bg.fillStyle(16711680,0),i.vertical?i.bg.fillRect(0,0-i.bar.height/2,1,i.track.height+i.bar.height):i.bg.fillRect(0-i.bar.width/2,0,i.track.width+i.bar.width,1),i.snapping=!0,i.add(i.bar),i.minY=i.track.y-i.bar.height/2,i.maxY=i.track.y+i.track.height-i.bar.height/2,i.minX=i.track.x-i.bar.width/2,i.maxX=i.track.x+i.track.width-i.bar.width/2,i.create(),i.vertical?(i.upEvent=i.scrollUp,i.downEvent=i.scrollDown):(i.upEvent=i.scrollLeft,i.downEvent=i.scrollRight),i.vertical?(i.maxValue=i.track.displayHeight+i.worldPosition.y,void 0===i.version&&(i.maxValue+=i.bar.displayHeight)):(i.maxValue=i.track.displayWidth+i.worldPosition.x,void 0===i.version&&(i.maxValue+=i.bar.displayWidth)),i}return e=a,(n=[{key:"create",value:function(){this.centerStaticAxis(),this.draggable&&this.enableBarDrag(),this.windowScrollAreaSize=this.valueRange.maxValue-this.valueRange.step,this.vslice=this.track.displayHeight*this.valueRange.ratio,this.hslice=this.track.displayWidth*this.valueRange.ratio,this.setTrackScrollAreaSize(),this.setInitialBarPosition(),this.mousePointer={x:this.bar.x,y:this.bar.y}}},{key:"setDraggableArea",value:function(){var t=this.track.displayHeight;void 0===this.version&&(t+=this.bar.displayHeight),this.verticalDraggableArea={x:this.track.x-(this.bar.displayWidth-this.track.displayWidth)/2,y:this.track.y-this.bar.displayHeight/2,w:this.bar.displayWidth,h:t},this.horizontalDraggableArea={x:this.track.x-this.bar.displayWidth/2,y:this.track.y-(this.bar.displayHeight-this.track.displayHeight)/2,w:this.track.displayWidth+this.bar.displayWidth,h:this.bar.displayHeight}}},{key:"setTrackScrollAreaSize",value:function(){this.vertical?this.trackScrollAreaSize=this.track.displayHeight:this.trackScrollAreaSize=this.track.displayWidth}},{key:"setInitialBarPosition",value:function(){var t=this.getBarPosition();this.vertical?this.bar.y=t+this.track.y-this.bar.displayHeight/2:this.bar.x=t+this.track.x-this.bar.displayWidth/2}},{key:"getClosestPosition",value:function(){for(var t=this.valueRange.getCurrentValue(),e=Math.abs(t-this.valueRange.steps[0]),n=this.valueRange.steps[0],r=0;r<this.valueRange.steps.length;r++){var i=Math.abs(t-this.valueRange.steps[r]);i<e&&(e=i,n=this.valueRange.steps[r])}return n}},{key:"snapToClosestPosition",value:function(){var t=this.getClosestPosition();this.valueRange.adjustValue(t),this.moveContent(),this.setInitialBarPosition()}},{key:"addScrollTween",value:function(t){var e=this;this.mousePointer={x:this.bar.x,y:this.bar.y},this.trackClicked=!0,new it(this.game).add(this.bar,t,this.tweenParams.duration,this.tweenParams.ease,(function(){e.moveContent(),e.enableBarInput()}),null,null,this,null,null)}},{key:"getGripPositionRatio",value:function(){var t=this.getBarPosition()-this.getMouseDelta();t<0?t=0:t>=this.trackScrollAreaSize&&(t=this.trackScrollAreaSize),this.vertical?this.bar.y<=this.track.y?t=0:this.bar.y+this.bar.displayHeight>=this.track.y+this.track.displayHeight&&(t=this.trackScrollAreaSize):this.bar.x<=this.track.x?t=0:this.bar.x+this.bar.displayWidth>=this.track.x+this.track.displayWidth&&(t=this.trackScrollAreaSize);var e=t/this.trackScrollAreaSize;return Number.isNaN(e)&&(e=0),e}}])&&Pe(e.prototype,n),a}(pe);function Te(t){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(t)}function Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ae(t,e){return Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ae(t,e)}function De(t,e){if(e&&("object"===Te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ie(t)}function Ie(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ze(t){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ze(t)}var Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ze(r);if(i){var n=ze(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return De(this,t)});function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Ce(this,a),e=o.call(this,t),t.add.existing(Ie(e)),e.x=n,e.y=r,e.uiWidgetsObjectRole="layout",e.modal=s,e.background=null,e.back=null,s){var u,c=new I(t,{x:0,y:0});c.fillStyle(16777215,1),c.fillRect(0,0,t.scale.width,t.scale.height),3===e.version?(c.generateTexture("modalBack"),u="modalBack"):u=c.generateTexture(),e.back=new y(t,0,0,u),e.back.setInteractive(),e.back.setOrigin(0,0),e.back.moveDown();var l=new dt(t,0,0);e.back.mask=l.create(0,0,0,0),t.add.existing(e.back),e.depth=9999,e.back.depth=9998}return null!==i&&(e.background=new y(t,0,0,i),t.add.existing(e.background),e.background.sendToBack(),e.background.alignIn(Ie(e),0)),e}return e=a,n=[{key:"dismiss",value:function(){this.modal&&this.back.destroy(),null!==this.background&&this.background.destroy(),this.destroy()}},{key:"addNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r||this.alignment;t instanceof F?t instanceof F&&t.setOrigin(0,0):(t.displayOriginX=0,t.displayOriginY=0),this.add(t),this.alignNodeToPrevious(t,i,e,n),t.parentContainer=this,"quantitybar"===t.uiWidgetsObjectRole&&3===t.version&&t.create(this.x,this.y),"enableBarDrag"in t&&t.enableBarDrag()}}],n&&Be(e.prototype,n),a}(F);function We(t){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(t)}function Ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ke(t,e){return Ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ke(t,e)}function He(t,e){if(e&&("object"===We(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}var Ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ke(t,e)}(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Ye(e);if(n){var i=Ye(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return He(this,t)});function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Ve(this,i),(e=r.call(this,t,n,o,a,s)).alignment=11,e}return i}(Me);function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function Ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ue(t,e){return Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ue(t,e)}function Le(t,e){if(e&&("object"===Xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Fe(t){return Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fe(t)}var Qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ue(t,e)}(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Fe(e);if(n){var i=Fe(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return Le(this,t)});function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Ge(this,i),(e=r.call(this,t,n,o,a,s)).alignment=8,e}return i}(Me);function qe(t){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(t)}function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t,e){return $e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$e(t,e)}function Je(t,e){if(e&&("object"===qe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tn(t)}function tn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function en(t){return en=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},en(t)}var nn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=en(r);if(i){var n=en(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Je(this,t)});function a(t,e,n,r,i){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),s=o.call(this,t),t.add.existing(tn(s)),s.x=e,s.y=n,s.uiWidgetsObjectRole="layout",s.area={x:e,y:n,width:r,height:i};var u=new dt(t,e,n);return void 0===s.version?s.mask=u.create(e,n,r,i):s.mask=u.create(0,0,r,i),s}return e=a,(n=[{key:"addNode",value:function(t){this.add(t),t.parentContainer=this}},{key:"disableOutOfBounds",value:function(t,e,n){var r,i,o,a;if(void 0!==t)for(var s=0;s<t.length;s++)(r=t[s]).inputEnabled=!0,a=r.world||r,n?(i=a.y,o=e.viewport.area.y):(i=a.x,o=e.viewport.area.x),i<o&&(r.inputEnabled=!1),this.disableOutOfBounds(r.children,e,n)}}])&&Ze(e.prototype,n),a}(F)})(),r})()}));